{"version":3,"sources":["../../src/commands/getEls.js"],"names":["GetEls","nightwatch","customizedSettings","BaseCommand","call","cmd","util","inherits","prototype","do","value","ret","i","push","pass","actual","injectedJsCommand","$el","command","selector","cb","selectorUtil","normalize","successMessage","failureMessage","startTime","Date","getTime","seenCount","decide","checkConditions","module","exports"],"mappings":";;AAAA;;;;AAEA;;;;AACA;;;;;;AAEA,IAAMA,SAAS,SAATA,MAAS,GAAwD;AAAA,MAA9CC,UAA8C,uEAAjC,IAAiC;AAAA,MAA3BC,kBAA2B,uEAAN,IAAM;;AACrEC,wBAAYC,IAAZ,CAAiB,IAAjB,EAAuBH,UAAvB,EAAmCC,kBAAnC;AACA,OAAKG,GAAL,GAAW,QAAX;AACD,CAHD;;AAKAC,eAAKC,QAAL,CAAcP,MAAd,EAAsBG,qBAAtB;;AAEAH,OAAOQ,SAAP,CAAiBC,EAAjB,GAAsB,UAAUC,KAAV,EAAiB;AACrC,MAAMC,MAAM,EAAZ;AACA,OAAK,IAAIC,IAAI,CAAb,EAAgBA,KAAKF,KAArB,EAA4BE,GAA5B,EAAiC;AAC/BD,QAAIE,IAAJ,CAAS;AACP,iBAAWD;AADJ,KAAT;AAGD;AACD,OAAKE,IAAL,CAAU,EAAEC,QAAQJ,GAAV,EAAV;AACD,CARD;;AAUA;AACAX,OAAOQ,SAAP,CAAiBQ,iBAAjB,GAAqC,UAAUC,GAAV,EAAe;AAClD,SAAO,mBAAP;AACD,CAFD;;AAIAjB,OAAOQ,SAAP,CAAiBU,OAAjB,GAA2B,UAAUC,QAAV,EAAoBC,EAApB,EAAwB;AACjD,OAAKD,QAAL,GAAgBE,mBAAaC,SAAb,CAAuBH,QAAvB,CAAhB;AACA,OAAKC,EAAL,GAAUA,EAAV;;AAEA,OAAKG,cAAL,kBAAmC,KAAKJ,QAAxC;AACA,OAAKK,cAAL,kBAAmC,KAAKL,QAAxC;;AAEA,OAAKM,SAAL,GAAkB,IAAIC,IAAJ,EAAD,CAAaC,OAAb,EAAjB;;AAEA;AACA,OAAKC,SAAL,GAAiB,CAAjB;AACA,OAAKC,MAAL;AACA,OAAKC,eAAL;;AAEA,SAAO,IAAP;AACD,CAfD;;AAiBAC,OAAOC,OAAP,GAAiBhC,MAAjB","file":"getEls.js","sourcesContent":["import util from \"util\";\n\nimport selectorUtil from \"../util/selector\";\nimport BaseCommand from \"../base-command\";\n\nconst GetEls = function (nightwatch = null, customizedSettings = null) {\n  BaseCommand.call(this, nightwatch, customizedSettings);\n  this.cmd = \"getels\";\n};\n\nutil.inherits(GetEls, BaseCommand);\n\nGetEls.prototype.do = function (value) {\n  const ret = [];\n  for (let i = 1; i <= value; i++) {\n    ret.push({\n      \"ELEMENT\": i\n    });\n  }\n  this.pass({ actual: ret });\n};\n\n/*eslint no-unused-vars:0 */\nGetEls.prototype.injectedJsCommand = function ($el) {\n  return \"return $el.length\";\n};\n\nGetEls.prototype.command = function (selector, cb) {\n  this.selector = selectorUtil.normalize(selector);\n  this.cb = cb;\n\n  this.successMessage = `Selector '${this.selector}' was visible after %d milliseconds.`;\n  this.failureMessage = `Selector '${this.selector}' was not visible after %d milliseconds.`;\n\n  this.startTime = (new Date()).getTime();\n\n  // Track how many times we've seen selector as :visible\n  this.seenCount = 0;\n  this.decide();\n  this.checkConditions();\n\n  return this;\n};\n\nmodule.exports = GetEls;\n"]}